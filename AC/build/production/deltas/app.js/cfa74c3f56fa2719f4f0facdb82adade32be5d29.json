["/*223207284c6aad307426031c86b15493f56edf0a",42,205116,"localhost/api/\",carImagesUrl:\"http://autocron.ru/images/cars/\",headersAppId:\"AUTOCRON\"});Ext.define(\"AC.helper.Fn\",{singleton:true,scrollIntoView:function(a,b){console.log(b.getScrollable().getScroller().scrollToEnd(true))}});Ext.define(\"Ext.Img",205199,32,"[\"image\",\"img\"],config:{src",302684,33,"img\",mode:\"background\"},beforeI",270463,34,"onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",270460,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hide",312751,35,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",313046,39,"iddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode:function(a){if(a===\"background\"){if(this.imageElement){this.imageElement.destroy();delete this.imageElement;this.updateSrc(this.getSrc())}}else{this.imageElement=this.element.createChild({tag:\"img\"})}},",233458,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b",186896,35,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);",73541,47,"this.detachListeners();Ext.destroy(this.imageObject);delete this.imageObject",228859,38,205194,7317,225298,158,212511,12787,225456,26934,379136,2464,252390,119762,372334,245,"Image",372156,35,"fields:[\"id\",\"car_model_version_id\",\"url",372544,2117,"scrollable:fals",374659,154,361230,32,"}",374812,48,374901,46,"Make\",showAnimation:\"slideIn",374958,216,"Model\",showAnimation:\"slideIn",375186,203,"Version\",showAnimation:\"slideI",375402,211,"Variant\",showAnimation:\"slideIn",375627,182,",{xtype:\"image\",id:\"carImage\",cls:\"carImage\",hidden:true,flex:1},]},{xtype:\"fieldset\",id:\"registrationData\",hidden:true,title:\"Registration data\",items:[{xtype:\"textfield\",name:\"User[name]\",required:true,label:\"Name\"},{xtype:\"emailfield\",name:\"User[email]\",required:true",373074,39,"id:\"password\",name:\"User[password]\",required:true,label:\"Password\"},{xtype:\"passwordfield\",id:\"password_repeat\",name:\"User[password_repeat]\",required:true,label:\"Confirm Password\"}]},{xtype:\"button\",action:\"doregister\",text:\"Register\",disabled:true",375843,435,",carModelImage:\"#registerForm image\",registerbutton:\"button[action=register]\",doregisterbutton:\"button[action=doregister]\",registrationData:\"#registrationData\",registrationForm:\"#registerForm\"},control:{",376334,198,376239,39,":{change:\"showCarModelImage\"},\"#registerForm image\":{tap:\"nextImage\"},\"button[action=doregister]\":{tap:\"doRegister\"},",376289,46,"button[ui=back]\":{tap:\"goBack",376577,581,";this.getCarModelImage().setSrc(\"\").setData(null).hide(",377157,178,";this.getCarModelImage().setSrc(\"\").setData(null).hide(",377334,187,";this.getCarModelImage().setSrc(\"\").setData(null).hide()}},showCarModelImage:function(a,e,b){if(e!=null&&!a.initdata){var d",376799,50,"odelImage\"",377731,36,"extraParams:{car_model_",377467,53,388669,38,"odelVersionImage\"",377902,47,"\"CarModelImageStore\"});var c=this.getCarModelImage();c.setSrc(\"\").setData(null);d.load(function(f){c.setData(f);if(f.length){c.setSrc(AC.helper.Config.carImagesUrl+f[0].data.url).show()}setTimeout(function(){Ext.getCmp(\"registerForm\").getScrollable().getScroller().scrollToEnd(true)},100)});this.showRegistrationData()}},nextImage:function(){var a=this.getCarModelImage().getData();this.getCarModelImage().setSrc(AC.helper.Config.carImagesUrl+a[Math.floor(Math.random()*a.length)].data.url);Ext.getCmp(\"registerForm\").getScrollable().getScroller().scrollToEnd(true)},showRegistrationData:function(){this.getRegistrationData().show(true);this.getDoregisterbutton().enable()",377522,245,377852,70,377943,637,378608,475,"doRegister:function(){var a=this.getRegistrationForm().getComponent(\"registrationData\");if(!a.getComponent(\"password\").getValue().length){Ext.Msg.alert(\"Error\",\"Password can not be blank\")}else{if(a.getComponent(\"password\").getValue()==a.getComponent(\"password_repeat\").getValue()){",396399,52,"register\",params:this.getRegistrationForm().getValues()",396495,49,"success:function(b){var c=Ext.JSON.decode(b",378631,122,"c",378754,42,"c",378797,49,"b){var c=b",378856,36,"b.responseText)}})}else{Ext.Msg.alert(\"Error\",\"Password do not match\")}}},goBack",379090,42,"AC.controller.Main",375897,47,"},refs:{profileForm:\"#profileForm\",},control:{\"button[action=updateprofile]\":{tap:\"doUpdateProfile\"},\"#profileForm\":{show:\"fillProfileForm\"}}},fillProfileForm:function(){var b=Ext.ModelManager.getModel(\"AC.model.User\");var a=this.getProfileForm();b.load(sessionStorage.getItem(\"uid\"),{success:function(c){a.setValues(c.data);console.log(c.data)}})},doUpdateProfile:function(){console.log(this.getProfileForm().getValues())}});Ext.define(\"Ext.data.proxy.Rest\",{extend:\"Ext.data.proxy.Ajax\",alternateClassName:\"Ext.data.RestProxy\",alias:\"proxy.rest\",config:{appendId:true,format:null,batchActions:false,",334450,49,"UT\",destroy:\"DELETE\"}},buildUrl:function(f){var j=this,e=f.getOperation(),c=e.getRecords()||[],h=c[0],g=j.getModel(),l=g.getIdProperty(),k=j.getFormat(),a=j.getUrl(f),d=f.getParams()||{},b=(h&&!h.phantom)?h.getId():d[l];if(j.getAppendId()&&b){if(!a.match(/\\/$/)){a+=\"/\"}a+=b;delete d[l]}if(k){if(!a.match(/\\.$/)){a+=\".\"}a+=k}f.setUrl(a);return j.callParent([f])",381580,2157,386131,1032,372143,48,372270,38,",\"password_repeat\"],proxy:{type:\"rest\",headers:{autocron",388627,41,",autocronuser",377776,32,388668,35,"user\"}}",387148,1626,390095,3433,393540,42,374669,82,393740,32,"},{title:\"H",393593,65,393771,266,"Profile\",iconCls:\"user\",xtype:\"formpanel\",id:\"profileForm\",items:[{xtype:\"fieldset\",id:\"profileData\",hidden:false,title:\"Profile data\",items:[{xtype:\"textfield\",name:\"name\",required:true,label:\"Name\"},",373042,33,"required:true",373074,39,"id:\"password\",name:\"password\",required:true,label:\"New Password\"},{xtype:\"passwordfield\",id:\"password_repeat\",name:\"password_repeat\",required:true,label:\"Confirm Password\"}]},{xtype:\"button\",action:\"updateprofile\",text:\"Update",375842,33,394326,729,"AC.helper.Fn",395052,184,",\"Ext.Img\",\"Ext.TitleBar",395235,66,"Image",395290,78,",\"Main",395367,458,"viewport:{autoMaximize:true",395823,115,395974,1110]