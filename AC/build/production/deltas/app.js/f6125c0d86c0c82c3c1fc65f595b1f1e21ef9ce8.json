["/*02e4e03e237f7c2e89269a338c0bb39df9adea70",42,205108,"(window.location.href.search(\"autocron.ru\")>0)?\"http://autocron.ru/api/\":\"http://localhost/api/\",carImagesUrl:\"http://autocron.ru/images/cars/\",headersAppId:\"AUTOCRON\"});Ext.define(\"AC.helper.Fn\",{singleton:true,scrollIntoView:function(a,b){console.log(b.getScrollable().getScroller().scrollToEnd(true))}});Ext.define(\"Ext.Img",205199,32,"[\"image\",\"img\"],config:{src",302684,33,"img\",mode:\"background\"},beforeI",270463,34,"onLoad=Ext.Function.bind(a.onLoad,a);a.onError=Ext.Function.bind(a.onError,a)",270460,52,"relayEvents(a.renderElement,\"*\");a.element.on({tap:\"onTap\",scope:a})},hide",312751,35,"hiddenSrc=this.hiddenSrc||this.getSrc();this.setSrc(null)},show",313046,39,"iddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode:function(a){if(a===\"background\"){if(this.imageElement){this.imageElement.destroy();delete this.imageElement;this.updateSrc(this.getSrc())}}else{this.imageElement=this.element.createChild({tag:\"img\"})}},",233458,34,"tap\",this,a)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(a){var b=this,c;if(b.getMode()===\"background\"){c=this.imageObject||new Image()}else{c=b.imageElement.dom}this.imageObject=c;c.setAttribute(\"src\",Ext.isString(a)?a:\"\");c.addEventListener(\"load\",b.onLoad,false);c.addEventListener(\"error\",b.onError,false)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener(\"load\",this.onLoad,false);a.removeEventListener(\"error\",this.onError,false)}},onLoad:function(a){this.detachListeners();if(this.getMode()===\"background\"){this.element.dom.style.backgroundImage='url(\"'+this.imageObject.src+'\")'}this.fireEvent(\"load\",this,a)},onError:function(a){this.detachListeners();this.fireEvent(\"error\",this,a)},doSetWidth:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setWidth(b",186896,35,"Height:function(b){var a=(this.getMode()===\"background\")?this.element:this.imageElement;a.setHeight(b);",73541,47,"this.detachListeners();Ext.destroy(this.imageObject);delete this.imageObject",228859,38,205194,7317,225298,158,212511,12787,225456,26934,379120,2464,252390,119762,372334,245,"Image",372156,35,"fields:[\"id\",\"car_model_version_id\",\"url",372544,2101,"fullscreen:true,scrollable:false",374644,153,361230,32,"}",374796,48,374885,46,"Make\",showAnimation:\"slideIn",374942,216,"Model\",showAnimation:\"slideIn",375170,203,"Version\",showAnimation:\"slideI",375386,211,"Variant\",showAnimation:\"slideIn",375611,182,",{xtype:\"image\",id:\"carImage\",cls:\"carImage\",hidden:true,flex:1},]},{xtype:\"fieldset\",id:\"registrationData\",hidden:true,title:\"Registration data\",items:[{xtype:\"textfield\",name:\"User[name]\",required:true,label:\"Name\"},{xtype:\"emailfield\",name:\"User[email]\",required:true",373074,39,"id:\"password\",name:\"User[password]\",required:true,label:\"Password\"},{xtype:\"passwordfield\",id:\"password_repeat\",name:\"User[password_repeat]\",required:true,label:\"Confirm Password\"}]},{xtype:\"button\",action:\"doregister\",text:\"Register\",disabled:true",375827,435,",carModelImage:\"#registerForm image\",registerbutton:\"button[action=register]\",doregisterbutton:\"button[action=doregister]\",registrationData:\"#registrationData\",registrationForm:\"#registerForm\"},control:{",376318,198,376223,39,":{change:\"showCarModelImage\"},\"#registerForm image\":{tap:\"nextImage\"},\"button[action=doregister]\":{tap:\"doRegister\"},",376273,46,"button[ui=back]\":{tap:\"goBack",376561,581,";this.getCarModelImage().setSrc(\"\").setData(null).hide(",377141,178,";this.getCarModelImage().setSrc(\"\").setData(null).hide(",377318,187,";this.getCarModelImage().setSrc(\"\").setData(null).hide()}},showCarModelImage:function(a,e,b){if(e!=null&&!a.initdata){var d",376783,50,"odelImage\"",377715,36,"extraParams:{car_model_",377451,53,388653,38,"odelVersionImage\"",377886,47,"\"CarModelImageStore\"});var c=this.getCarModelImage();c.setSrc(\"\").setData(null);d.load(function(f){c.setData(f);if(f.length){c.setSrc(AC.helper.Config.carImagesUrl+f[0].data.url).show()}setTimeout(function(){Ext.getCmp(\"registerForm\").getScrollable().getScroller().scrollToEnd(true)},100)});this.showRegistrationData()}},nextImage:function(){var a=this.getCarModelImage().getData();this.getCarModelImage().setSrc(AC.helper.Config.carImagesUrl+a[Math.floor(Math.random()*a.length)].data.url);Ext.getCmp(\"registerForm\").getScrollable().getScroller().scrollToEnd(true)},showRegistrationData:function(){this.getRegistrationData().show(true);this.getDoregisterbutton().enable()},loadCarInfo:function(d,a,g){var c=new Ext.LoadMask({msg:\"Loading...\"});Ext.Viewport.add(c);var h,f;for(h in g){if(!g.hasOwnProperty(h)){continue}f=g[h]}var e",376783,46,377648,40,"h,value:f",377697,54,"extraParams:g",388653,34,"\"+d,reader:{type:\"json\"}},id:d+\"Store\"});a.disable();var j=parseInt(a._itemId[a._itemId.length-1]);for(i=j+1;i<j+5;i++){var b=a._itemId;b=b.substring(0,b",378057,41,"b)){Ext.ComponentManager.get(b).disable()}}e.load(function(l,k,m){if(!l.length){a.hide()}else{a.show();a.setStore(d+\"Store\").enable()}c.hide()",378232,101,"c=new Ext.LoadMask({msg:\"Loading...\"});Ext.Viewport.add(c);",378329,210,"d){c.hide()",396549,60,378630,107,"e",378738,42,"e",378781,49,"d){var e=d",378840,36,"d",378877,190,"doRegister:function(){var a=this.getRegistrationForm().getComponent(\"registrationData\");if(!a.getComponent(\"password\").getValue().length){Ext.Msg.alert(\"Error\",\"Password can not be blank\")}else{if(a.getComponent(\"password\").getValue()==a.getComponent(\"password_repeat\").getValue()){",396383,52,"register\",params:this.getRegistrationForm().getValues()",396479,49,"success:function(b){var c=Ext.JSON.decode(b",378615,122,"c",378738,42,"c",378781,49,"b){var c=b",378840,36,"b.responseText)}})}else{Ext.Msg.alert(\"Error\",\"Password do not match\")}}},goBack",379074,42,"AC.controller.Main",375881,47,"},refs:{profileForm:\"#profileForm\",profilePassword:\"#password\",profilePassword2:\"#password_repeat\"},control:{\"button[action=updateprofile]\":{tap:\"doUpdateProfile\"},\"button[action=changepassword]\":{tap:\"showPassword\"},\"tabpanel#mainTabPanel\":{activeitemchange:\"switchTabs\"}}},switchTabs:function(c,d,a,b){if(d.id==\"profileForm\"){this.fillProfileForm()}},showPassword:function(a){if(this.getProfilePassword().isHidden()){this.getProfilePassword().show(\"slideIn\");this.getProfilePassword2().show(\"slideIn\");a.setData(a.getText());a.setText(\"Hide Passwords\")}else{this.getProfilePassword().hide(\"slideOut\");this.getProfilePassword2().hide(\"slideOut\");a.setText(a.getData())}},fillProfileForm:function(){var a=new Ext.LoadMask({message:\"Loading...\"});Ext.Viewport.add(a);var c=Ext.ModelManager.getModel(\"AC.model.User\");var b=this.getProfileForm();c.load(sessionStorage.getItem(\"uid\"),{success:function(d){a.hide();b.setValues(d.data)}})},doUpdateProfile:function(){var a=new Ext.LoadMask({message:\"Loading...\"});Ext.Viewport.add(a);var c=Ext.ModelManager.getModel(\"AC.model.User\");var b=this.getProfileForm();c.load(sessionStorage.getItem(\"uid\"),{success:function(d){d.set(\"name\",b.getValues().name);d.set(\"email\",b.getValues().email);d.save({success:function(e){a.hide()},failure:function(e){a.remove();var f=e;Ext.Msg.alert(\"Error\",f)}})}})}});Ext.define(\"Ext.data.proxy.Rest\",{extend:\"Ext.data.proxy.Ajax\",alternateClassName:\"Ext.data.RestProxy\",alias:\"proxy.rest\",config:{appendId:true,format:null,batchActions:false,",334450,49,"UT\",destroy:\"DELETE\"}},buildUrl:function(f){var j=this,e=f.getOperation(),c=e.getRecords()||[],h=c[0],g=j.getModel(),l=g.getIdProperty(),k=j.getFormat(),a=j.getUrl(f),d=f.getParams()||{},b=(h&&!h.phantom)?h.getId():d[l];if(j.getAppendId()&&b){if(!a.match(/\\/$/)){a+=\"/\"}a+=b;delete d[l]}if(k){if(!a.match(/\\.$/)){a+=\".\"}a+=k}f.setUrl(a);return j.callParent([f])",381564,2157,386115,1032,372143,48,372270,39,",proxy:{type:\"rest\",headers:{autocron",388611,41,",autocronuser",377760,32,388652,35,"user\"}}",387132,1626,390079,3433,"],id:\"mainTabPanel\"",393525,41,374653,82,393724,32,"},{title:\"H",393577,65,393755,266,"Profile\",iconCls:\"user\",xtype:\"formpanel\",id:\"profileForm\",items:[{xtype:\"fieldset\",id:\"profileData\",hidden:false,title:\"Profile data\",items:[{xtype:\"textfield\",name:\"name\",required:true,label:\"Name\"},",373042,33,"required:true",373074,39,"id:\"password\",name:\"password\",hidden:true,required:false,label:\"New Password\"},{xtype:\"passwordfield\",id:\"password_repeat\",name:\"password_repeat\",hidden:true,required:false,label:\"Confirm Password\"},{xtype:\"button\",text:\"Change password\",action:\"changepassword\",ui:\"default\"}]},{xtype:\"button\",action:\"updateprofile\",text:\"Update",375826,33,394310,729,"AC.helper.Fn",395036,184,",\"Ext.Img\",\"Ext.TitleBar",395219,66,"Image",395274,78,",\"Main",395351,458,"viewport:{autoMaximize:true",395807,115,395958,1110]